@model AdminDashboardViewModel

<div class="dashboard-header mb-4">
    <h1>Admin Dashboard</h1>
    <p class="text-muted">Welcome to RadioCabs Admin Panel</p>
</div>

<!-- Statistics Cards -->
<div class="row mb-4">
    <div class="col-md-3">
        <div class="card text-white bg-primary">
            <div class="card-body">
                <h5 class="card-title">Total Companies</h5>
                <p class="card-text display-4">@Model.TotalCompanies</p>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card text-white bg-success">
            <div class="card-body">
                <h5 class="card-title">Total Drivers</h5>
                <p class="card-text display-4">@Model.TotalDrivers</p>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card text-white bg-info">
            <div class="card-body">
                <h5 class="card-title">Total Advertisements</h5>
                <p class="card-text display-4">@Model.TotalAdvertisements</p>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card text-white bg-warning">
            <div class="card-body">
                <h5 class="card-title">Total Feedbacks</h5>
                <p class="card-text display-4">@Model.TotalFeedbacks</p>
            </div>
        </div>
    </div>
</div>

<!-- Payment & Membership Statistics -->
<div class="row mb-4">
    <div class="col-md-6">
        <div class="card">
            <div class="card-header">Payment Status Overview</div>
            <div class="card-body">
                <p><strong>Pending Payments:</strong> <span class="badge badge-warning">@Model.PendingPayments</span></p>
                <p><strong>Completed Payments:</strong> <span class="badge badge-success">@Model.CompletedPayments</span></p>
                <p><strong>Total Revenue:</strong> <span class="badge badge-primary">${{Model.TotalRevenue}}</span></p>
            </div>
        </div>
    </div>
    <div class="col-md-6">
        <div class="card">
            <div class="card-header">Membership Distribution</div>
            <div class="card-body">
                <p><strong>Premium Members:</strong> <span class="badge badge-success">@Model.PremiumMembers</span></p>
                <p><strong>Basic Members:</strong> <span class="badge badge-info">@Model.BasicMembers</span></p>
                <p><strong>Free Members:</strong> <span class="badge badge-secondary">@Model.FreeMembers</span></p>
            </div>
        </div>
    </div>
</div>

<!-- Recent Companies Table -->
<div class="card mb-4">
    <div class="card-header">Recent Companies</div>
    <div class="table-responsive">
        <table class="table table-striped mb-0">
            <thead>
                <tr>
                    <th>Company Name</th>
                    <th>Email</th>
                    <th>Membership</th>
                    <th>Payment Status</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var company in Model.Companies.Take(5))
                {
                    <tr>
                        <td>@company.CompanyName</td>
                        <td>@company.Email</td>
                        <td><span class="badge badge-info">@company.MembershipType</span></td>
                        <td>
                            <span class="badge @(company.PaymentStatus == "Paid" ? "badge-success" : "badge-warning")">
                                @company.PaymentStatus
                            </span>
                        </td>
                        <td class="d-flex gap-1">
                            <a href="/Admin/ViewCompanyDetails/@company.CompanyId" class="btn btn-sm btn-info">View</a>
                            <a href="/Admin/EditCompany/@company.CompanyId" class="btn btn-sm btn-warning">Edit</a>
                            <form asp-controller="Admin" asp-action="DeleteCompany" asp-route-id="@company.CompanyId" method="post" onsubmit="return confirm('Delete this company profile?');">
                                @Html.AntiForgeryToken()
                                <button type="submit" class="btn btn-sm btn-danger">Delete</button>
                            </form>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
    <div class="card-footer">
        <a href="/Admin/ManageCompanies" class="btn btn-primary">View All Companies</a>
    </div>
</div>

<!-- Recent Drivers Table -->
<div class="card mb-4">
    <div class="card-header">Recent Drivers</div>
    <div class="table-responsive">
        <table class="table table-striped mb-0">
            <thead>
                <tr>
                    <th>Driver Name</th>
                    <th>Driver ID</th>
                    <th>City</th>
                    <th>Payment Status</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var driver in Model.Drivers.Take(5))
                {
                    <tr>
                        <td>@driver.DriverName</td>
                        <td>@driver.DriverUniqueId</td>
                        <td>@(driver.City ?? "-")</td>
                        <td>
                            <span class="badge @(driver.PaymentStatus == "Paid" ? "badge-success" : "badge-warning")">
                                @(driver.PaymentStatus ?? "Pending")
                            </span>
                        </td>
                        <td class="d-flex gap-1">
                            <a href="/Admin/ViewDriverDetails/@driver.DriverId" class="btn btn-sm btn-info">View</a>
                            <a href="/Admin/EditDriver/@driver.DriverId" class="btn btn-sm btn-warning">Edit</a>
                            <form asp-controller="Admin" asp-action="DeleteDriver" asp-route-id="@driver.DriverId" method="post" onsubmit="return confirm('Delete this driver profile?');">
                                @Html.AntiForgeryToken()
                                <button type="submit" class="btn btn-sm btn-danger">Delete</button>
                            </form>
                        </td>
                    </tr>
                }
            </tbody>
        </table>
    </div>
    <div class="card-footer">
        <a href="/Admin/ManageDrivers" class="btn btn-success">Manage All Drivers</a>
    </div>
</div>

<!-- Recent Feedback Table -->
<div class="card mb-4">
    <div class="card-header">Recent Feedback</div>
    <div class="table-responsive">
        <table class="table table-striped mb-0">
            <thead>
                <tr>
                    <th>Name</th>
                    <th>Type</th>
                    <th>Contact</th>
                    <th>City</th>
                    <th>Description</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                @if (!Model.Feedbacks.Any())
                {
                    <tr>
                        <td colspan="6" class="text-center text-muted py-4">No feedback entries found.</td>
                    </tr>
                }
                else
                {
                    @foreach (var feedback in Model.Feedbacks.Take(5))
                    {
                        <tr>
                            <td>@(feedback.Name ?? "-")</td>
                            <td>@(feedback.Type ?? "-")</td>
                            <td>
                                @(feedback.Mobile ?? "-")
                                <br />
                                <small>@(feedback.Email ?? "-")</small>
                            </td>
                            <td>@(feedback.City ?? "-")</td>
                            <td>@(feedback.Description ?? "-")</td>
                            <td class="d-flex gap-1">
                                <a href="/Admin/ViewFeedbackDetails/@feedback.FeedbackId" class="btn btn-sm btn-info">View</a>
                                <form asp-controller="Admin" asp-action="DeleteFeedback" asp-route-id="@feedback.FeedbackId" method="post" onsubmit="return confirm('Delete this feedback entry?');">
                                    @Html.AntiForgeryToken()
                                    <button type="submit" class="btn btn-sm btn-danger">Delete</button>
                                </form>
                            </td>
                        </tr>
                    }
                }
            </tbody>
        </table>
    </div>
    <div class="card-footer">
        <a href="/Admin/ManageFeedbacks" class="btn btn-warning">View All Feedback</a>
    </div>
</div>